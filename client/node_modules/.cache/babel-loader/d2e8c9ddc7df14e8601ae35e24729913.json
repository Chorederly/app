{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/shanealan/v_school/level_5/chorderly/client/src/context/ChoreContext.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst ChoreContext = /*#__PURE__*/React.createContext(null);\n\nconst ChoreContextProvider = ({\n  children\n}) => {\n  _s();\n\n  const [chores, setChores] = useState([]);\n\n  const updateOneChore = (choreId, body) => {\n    axios.put(`chores/updateOne/${choreId}`, body).then(resp => {\n      updateChores();\n    }).catch(err => console.log(err));\n  };\n\n  [1];\n\n  const updateChores = () => {\n    axios.get(\"/chores\").then(resp => {\n      console.log(resp);\n      console.log(`setting Chores from: ${chores}`);\n      const orderedChores = resp.data.sort((a, b) => a.completed - b.completed);\n      setChores(orderedChores);\n      console.log(`to: ${chores}`);\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    updateChores();\n  }, []);\n\n  const assignChore = (choreId, userId) => {\n    axios.put(`/chores/updateOne/${choreId}`, {\n      user: userId,\n      available: false\n    }).then(resp => {\n      console.log(resp);\n      updateChores();\n    }).catch(err => console.log(err));\n  };\n\n  const unAssignChore = choreId => {\n    axios.put(`chores/updateOne/${choreId}`, {\n      user: null,\n      completed: false,\n      available: true\n    }).then(res => {\n      updateChores();\n    }).catch(err => console.log(err));\n  };\n\n  const markCompleted = choreId => {\n    console.log(\"marking completed\");\n    axios.put(`chores/updateOne/${choreId}`, {\n      completed: `${Date.now()}`\n    }).then(resp => updateChores()).catch(err => console.log(err));\n  };\n\n  const resetChores = (weekly = true, monthly = true, asneeded = true) => {\n    axios.get(`/resetAll/?weekly=${weekly}&monthly=${monthly}&asneeded=${asneeded}`).then(res => {\n      updateChores();\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(ChoreContext.Provider, {\n    value: {\n      chores,\n      setChores,\n      unAssignChore,\n      assignChore,\n      updateChores,\n      updateOneChore,\n      markCompleted\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChoreContextProvider, \"bHjTQKKpZSlu2bTYL0F/gZcfHtA=\");\n\n_c = ChoreContextProvider;\nexport { ChoreContext, ChoreContextProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"ChoreContextProvider\");","map":{"version":3,"sources":["/Users/shanealan/v_school/level_5/chorderly/client/src/context/ChoreContext.jsx"],"names":["React","useState","useEffect","axios","ChoreContext","createContext","ChoreContextProvider","children","chores","setChores","updateOneChore","choreId","body","put","then","resp","updateChores","catch","err","console","log","get","orderedChores","data","sort","a","b","completed","assignChore","userId","user","available","unAssignChore","res","markCompleted","Date","now","resetChores","weekly","monthly","asneeded"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nconst ChoreContext = React.createContext(null)\n\nconst ChoreContextProvider = ({children}) => {\n  const [chores,\n    setChores] = useState([])\n\n  const updateOneChore = (choreId, body)=>{\n    axios.put(`chores/updateOne/${choreId}`, body).then(resp=>{\n      updateChores()\n    }).catch(err=>console.log(err))\n  }\n[1]\n  const updateChores = () => {\n    axios\n      .get(\"/chores\")\n      .then(resp => {\n        console.log(resp)\n        console.log(`setting Chores from: ${chores}`)\n        const orderedChores = resp.data.sort((a, b)=> a.completed - b.completed)\n        setChores(orderedChores )\n        console.log(`to: ${chores}`)\n      })\n      .catch(err => console.log(err))\n  }\n  useEffect(() => {\n    updateChores()\n  }, [])\n  const assignChore = (choreId, userId) => {\n    axios\n      .put(`/chores/updateOne/${choreId}`, {\n      user: userId,\n      available: false\n    })\n      .then(resp => {\n        console.log(resp)\n        updateChores()\n      })\n      .catch(err => console.log(err))\n  }\n\n  const unAssignChore = (choreId) => {\n    axios\n      .put(`chores/updateOne/${choreId}`, {\n      user: null,\n      completed: false,\n      available: true\n    })\n      .then(res => {\n        updateChores()\n      })\n      .catch(err => console.log(err))\n  }\n  const markCompleted = choreId => {\n    console.log(\"marking completed\")\n    axios.put(`chores/updateOne/${choreId}`, {\n      completed: `${Date.now()}`\n      })\n      .then(resp => updateChores())\n      .catch(err => console.log(err))\n\n  }\n  const resetChores = (weekly = true, monthly = true, asneeded = true) => {\n    axios\n      .get(`/resetAll/?weekly=${weekly}&monthly=${monthly}&asneeded=${asneeded}`)\n      .then((res) => {\n        updateChores()\n      })\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <ChoreContext.Provider\n      value={{\n      chores,\n      setChores,\n      unAssignChore,\n      assignChore,\n      updateChores,\n      updateOneChore,\n      markCompleted\n    }}>\n      {children}\n    </ChoreContext.Provider>\n  )\n}\n\nexport {ChoreContext, ChoreContextProvider}"]},"metadata":{},"sourceType":"module"}